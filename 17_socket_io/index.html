<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Socket.io Demo</title>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <style media="screen">
      #results{
        margin-left: auto;
        margin-right: auto;
        width:300px;
        height:200px;
        border: solid 1px;
        overflow: auto;
      }
    </style>
  </head>
  <body>

    <div id="results">
      <!-- dynamic content from socket.io -->
    </div>


    <script type="text/javascript">

        var socket=io();
        socket.on('welcome', function(data){
          addMessage(data.message);
        });

        socket.on('time', function(data){
          addMessage(data.time);
        });

        socket.on('count', function(data){
          addMessage(data.count);
        });

        socket.on('error', console.error.bind(console));

        function addMessage(msg){
            let results=document.getElementById('results');
            var curHTML=results.innerHTML;
            results.innerHTML=msg+"<br>"+curHTML;
        }

    </script>

  </body>
</html>
